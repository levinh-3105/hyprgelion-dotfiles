exec-once = hyprctl dispatch workspace 1
# === THEME ==# #
    source = ~/.config/hypr/theme.conf
    source = ~/.config/hypr/vars.conf


# === ENV === #

    # XDG
    envd = XDG_CURRENT_DESKTOP, Hyprland
    envd = XDG_SESSION_TYPE, wayland
    envd = XDG_SESSION_DESKTOP, Hyprland

    # QT
    env = QT_QPA_PLATFORM, wayland
    env = QT_QPA_PLATFORMTHEME, qt5ct
    env = QT_WAYLAND_DISABLE_WINDOWDECORATION, 1
    env = QT_AUTO_SCREEN_SCALE_FACTOR, 1
    #env = QT_STYLE_OVERRIDE, kvantum

    # Tearing
    env = WLR_DRM_NO_ATOMIC, 0

    # Themes --- REPLACE WITH YOUR OWN
    #env = GTK_THEME, catppuccin-macchiato-lavender-standard+default
    #env = XCURSOR_THEME, catppuccin-macchiato-dark-cursors
    #env = XCURSOR_SIZE, 24
    #env = HYPRCURSOR_THEME, catppuccin-macchiato-peach-cursors
    #env = HYPRCURSOR_SIZE, 24


# === MONITORS === #
	$first = 
	# Example:
	# $first = DP-1
	
	# $second = # Uncomment and add monitor name if using multi-monitor setup
	# $third = # Uncomment and add monitor name if using multi-monitor setup

    # Main Monitor
    monitor = $first,preferred,auto,2
	# Example:
	# monitor = $first,2560x1440@144Hz,1920x0,1

    # Second Monitor
    # monitor = $second,1920x1080@60,0x0,1 # Uncomment and add monitor name if using multi-monitor setup

	# Third Monitor
	# monitor = $third,WWWWxHHHH@HZ,POS1xPOS2,1 # Uncomment and add monitor name if using multi-monitor setup


# === WORKSPACES === #

    # Left Monitor
    workspace = 1, monitor:$second, default:true
    workspace = 2, monitor:$second
    workspace = 3, monitor:$second
    workspace = 4, monitor:$second
    workspace = 5, monitor:$second
    workspace = 6, monitor:$second
    workspace = 7, monitor:$second
    workspace = 8, monitor:$second
    workspace = 9, monitor:$second

    # Right Monitor
    workspace = 10, monitor:$first, default:true
    workspace = 11, monitor:$first
    workspace = 12, monitor:$first
    workspace = 13, monitor:$first, rounding:false, decorate:false, gapsin:0, gapsout:0, border:false, decorate:false # Figma Workspace
    workspace = 14, monitor:$first, rounding:false, decorate:false, gapsin:0, gapsout:0, border:false, decorate:false # Gaming Workspace
    workspace = 15, monitor:$first
    workspace = 16, monitor:$first
    workspace = 17, monitor:$first
    workspace = 18, monitor:$first

    # Third Monitor
    #workspace = 19, monitor:$third
    #workspace = 20, monitor:$third
    #workspace = 21, monitor:$third
    #workspace = 22, monitor:$third
    #workspace = 23, monitor:$third
    #workspace = 24, monitor:$third
    #workspace = 25, monitor:$third
    #workspace = 26, monitor:$third
    #workspace = 27, monitor:$third


# === INPUT === #

    input {
        kb_layout = us,cz
        kb_options = compose:rctrl, level3:ralt_switch, grp:alt_space_toggle

		follow_mouse = 1
        numlock_by_default = true

		touchpad {
        	natural_scroll = yes
        	disable_while_typing = true
        	scroll_factor = 1
    	}
    }


# === MISC === #

    general {
        allow_tearing = true
    }

    misc {
        always_follow_on_dnd = true
        disable_hyprland_logo = true
		disable_splash_rendering = true
        vrr = 0
        animate_manual_resizes = true
        animate_mouse_windowdragging = true
        enable_swallow = true
        font_family = GeistMono Nerd Font
        middle_click_paste = false
		background_color = rgba($no1$trF)
    }

    xwayland {
        force_zero_scaling = true
    }

    dwindle {
        pseudotile = yes # Master switch for pseudotiling. Enabling is bound to mainMod + P
        preserve_split = yes # You probably want this
        pseudotile = true # Enable pseudotiling on dwindle
        force_split = 0
        preserve_split = true
    }

    gestures {
    }


# === PLUGINS === #

    # Hyprexpo
    # exec-once = hyprpm enable hyprexpo
    # source = ~/.config/hypr/plugins/hyprexpo.conf

    exec-once = hyprpm reload -n


# === BINDS === #

    # Variables
    $mainMod = SUPER
    $period = 60

    $scripts = ~/.config/hypr/scripts
    $launcher-scripts = ~/.config/rofi/scripts
    $emoji = ~/.config/rofi/scripts/emoji/emoji
    $screenshot = ~/.config/hypr/scripts/hyprshot
	env = launcher, rofi -show drun

	$launcher = rofi -show drun -theme ~/.config/rofi/launcher.rasi

    $bar = waybar > ~/.config/waybar/waybar.log 2>&1
    $bar-toggle = killall -SIGUSR1 $bar
    $bar-reload = killall $bar; $bar

    $notifications-menu = swaync-client
    $notifications-menu-toggle = $notifications-menu -t
    $notifications-menu-reload = $notifications-menu -R && $notifications-menu -rs

    $browser = firefox
	$private-flag = --private-window # Firefox = "--private-window" // Chromium = "--incognito"
    $notetaking-app = obsidian
    $terminal = kitty
	$terminal-float = $terminal --class=com.center-float
    
	$office-suite = libreoffice
    $editor = code
    $file-manager = kitty --class yazi-term -e yazi
    $alter-file-manager = nemo
    
	$music = spotify-launcher

    # Applications
    bind = $mainMod, W, exec, $scripts/launch_app $browser
	bind = $mainMod SHIFT, W, exec, $browser $private-flag
    bind = $mainMod, O, exec, $scripts/launch_app $notetaking-app
    bind = $mainMod, S, exec, $scripts/launch_app $music
    bind = $mainMod SHIFT, O, exec, $scripts/launch_app $office-suite
    bind = $mainMod, E, exec, kitty --class yazi-term -e yazi
    bind = $mainMod SHIFT, E, exec, $alter-file-manager
    bind = $mainMod, RETURN, exec, $scripts/launch_app $terminal
    bind = $mainMod, BACKSPACE, exec, $scripts/launch_app $editor
    # bind = $mainMod SHIFT, BACKSPACE, exec, $scripts/launch_app $alter-editor

    bind = $mainMod F7, XF86MonBrightnessUp, exec, brightnessctl s +5%
    bind = $mainMod F6, XF86MonBrightnessDown, exec, brightnessctl s 5%-

    # Notifications Menu
    bind = $mainMod, N, exec, $notifications-menu-toggle
    bind = $mainMod SHIFT, R, exec, $notifications-menu-reload

    # Bar
    bind = $mainMod CTRL, R, exec, $bar-reload
    bind = $mainMod CTRL, T, exec, $bar-toggle

    # Pickers/Launchers
    bind = $mainMod, SPACE, exec, $launcher
    bind = $mainMod, INSERT, exec, $scripts/color_picker
    bind = $mainMod, 61, exec, $launcher-scripts/keybindings/keybindings #Key "/WW"
    bind = $mainMod, ESCAPE, exec, $launcher-scripts/powermenu/powermenu
    bind = $mainMod, V, exec, $launcher-scripts/clipboard/clipboard
    bind = $mainMod, $period, exec, $emoji

    # = Screenshots
        bind = $mainMod, PRINT, exec, $screenshot -m region --freeze
        bind = SHIFT, ESCAPE, exec, $launcher-scripts/screenshot/screenshot

    # = Other Modules
        #bind = $mainMod, Z, exec, pypr zoom
        bind = $mainMod CTRL, W, exec, $launcher-scripts/wallpaper/wallpaper

    # Windows
    # = Basic Operations
        bind = $mainMod, Q, exec, \
            hyprctl activewindow | grep -q "class: scratchpad-large" \
            && hyprctl dispatch togglespecialworkspace scratchpad-large \
            || hyprctl dispatch killactive
        bind = $mainMod, A, exec, $scripts/toggle_floating
        bind = $mainMod, P, pseudo
        bind = $mainMod, F, fullscreen, 0

    # = Mouse
        bindm = $mainMod, mouse:272, movewindow
        bindm = $mainMod, mouse:273, resizewindow

    # = Focusing
        bind = $mainMod, LEFT, movefocus, l
        bind = $mainMod, RIGHT, movefocus, r
        bind = $mainMod, UP, movefocus, u
        bind = $mainMod, DOWN, movefocus, d
        # = Vim-keybinds
            bind = $mainMod, H, movefocus, l
            bind = $mainMod, L, movefocus, r
            bind = $mainMod, K, movefocus, u
            bind = $mainMod, J, movefocus, d

    # = Moving
        bind = $mainMod SHIFT, LEFT, movewindow, l
        bind = $mainMod SHIFT, RIGHT, movewindow, r
        bind = $mainMod SHIFT, UP, movewindow, u
        bind = $mainMod SHIFT, DOWN, movewindow, d
        #rbind = $mainMod SHIFT, 51, exec, $scripts/move_by_rules # Backslash
        # = Vim-keybinds
            bind = $mainMod SHIFT, H, movewindow, l
            bind = $mainMod SHIFT, L, movewindow, r
            bind = $mainMod SHIFT, K, movewindow, u
            bind = $mainMod SHIFT, J, movewindow, d

    # = Center and Split
        bind = $mainMod SHIFT, S, togglesplit
        bind = $mainMod, C, exec, hyprctl dispatch centerwindow 1

    # = Group Control
        bind = $mainMod, G, togglegroup
        bind = $mainMod CTRL, G, lockactivegroup, toggle
        bind = ALT, TAB, changegroupactive

    # = Resizing Windows
        bind = $mainMod, R, submap, resize
        submap = resize

        binde = , RIGHT, resizeactive, 40 0
        binde = , LEFT, resizeactive, -40 0
        binde = , UP, resizeactive, 0 -40
        binde = , DOWN, resizeactive, 0 40

        binde = , L, resizeactive, 40 0
        binde = , H, resizeactive, -40 0
        binde = , K, resizeactive, 0 -40
        binde = , J, resizeactive, 0 40

        bind = , ESCAPE, submap, reset

        submap = reset

    # Workspaces
    # = Focusing other Workspaces
        bind = $mainMod, 1, workspace, r~1
        bind = $mainMod, 2, workspace, r~2
        bind = $mainMod, 3, workspace, r~3
        bind = $mainMod, 4, workspace, r~4
        bind = $mainMod, 5, workspace, r~5
        bind = $mainMod, 6, workspace, r~6
        bind = $mainMod, 7, workspace, r~7
        bind = $mainMod, 8, workspace, r~8
        bind = $mainMod, 9, workspace, r~9

    # = Moving Windows to other Workspaces
        bind = $mainMod SHIFT, 1, movetoworkspace, r~1
        bind = $mainMod SHIFT, 2, movetoworkspace, r~2
        bind = $mainMod SHIFT, 3, movetoworkspace, r~3
        bind = $mainMod SHIFT, 4, movetoworkspace, r~4
        bind = $mainMod SHIFT, 5, movetoworkspace, r~5
        bind = $mainMod SHIFT, 6, movetoworkspace, r~6
        bind = $mainMod SHIFT, 7, movetoworkspace, r~7
        bind = $mainMod SHIFT, 8, movetoworkspace, r~8
        bind = $mainMod SHIFT, 9, movetoworkspace, r~9

    # = Moving Windows to other Workspaces (Silent)
        bind = $mainMod ALT, 1, movetoworkspacesilent, r~1
        bind = $mainMod ALT, 2, movetoworkspacesilent, r~2
        bind = $mainMod ALT, 3, movetoworkspacesilent, r~3
        bind = $mainMod ALT, 4, movetoworkspacesilent, r~4
        bind = $mainMod ALT, 5, movetoworkspacesilent, r~5
        bind = $mainMod ALT, 6, movetoworkspacesilent, r~6
        bind = $mainMod ALT, 7, movetoworkspacesilent, r~7
        bind = $mainMod ALT, 8, movetoworkspacesilent, r~8
        bind = $mainMod ALT, 9, movetoworkspacesilent, r~9

    # = Moving to other Workspace with Mouse Control
        bind = $mainMod, mouse_up, workspace, m-1
        bind = $mainMod, mouse_down, workspace, m+1

    # = Moving to other Workspace with Keyboard
        bind = $mainMod CTRL, LEFT, workspace, m-1
        bind = $mainMod CTRL, RIGHT, workspace, m+1

        bind = $mainMod CTRL, H, workspace, m-1
        bind = $mainMod CTRL, L, workspace, m+1

    # Monitors
    # = Moving to Next and Prev Monitors
        bind = $mainMod, 59, focusmonitor, -1 # Comma

    # Media
    # = Audio
        bind = $mainMod CTRL, V, exec, ~/.local/bin/restartAudio

        bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
        bindl = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 5%+
        bindl = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
        bindl = , XF86AudioPlay, exec, playerctl play-pause
        bindl = , XF86AudioPause, exec, playerctl play-pause
        bindl = , XF86AudioNext, exec, playerctl next
        bindl = , XF86AudioPrev, exec, playerctl previous

        bindl = SUPER, XF86AudioRaiseVolume, exec, playerctl next
        bindl = SUPER, XF86AudioLowerVolume, exec, playerctl previous

    # = Brightness
        #bindle = , XF86MonBrightnessUp, exec, swayosd-client --brightness +10
        #bindle = , XF86MonBrightnessDown, exec, swayosd-client --brightness -10

    # Other
    # = Disable anim, blur, etc
        #bind = $mainMod, F12, exec, $scripts/performance

    # = Freeze active window
        bind = $mainMod SHIFT, ESCAPE, exec, $scripts/hyprfreeze -a

    # = Open Wikis
        bind = $mainMod, F1, exec, xdg-open https://wiki.hyprland.org/


# === RULES === #

    # MONITOR 1                   MONITOR 2                       MONITOR 3
    # "1": "1", 󰈹 firefox         "10": "1", 󰈹 firefox            "19": "10",
    # "2": "2", 󰎄 music           "11": "2", 󱃖 code               "20": "20",
    # "3": "3", 󰀆 chat            "12": "3", 󰑕 obsidian           "21": "21",
    # "4": "4",                   "13": "4", 󰇟 figma              "22": "22",
    # "5": "5",                   "14": "5", 󰩳 gaming             "23": "23",
    # "6": "6",                   "15": "6",                      "24": "24",
    # "7": "7",                   "16": "7",                      "25": "25",
    # "8": "8",                   "17": "8",                      "26": "26",
    # "9": "9", 󰒔 settings        "18": "9",                      "27": "27"
    
	# Floating windows
		$center-float-large = class:^(center-float-large)$
		windowrule {
		name = float-large
		float = on
		size = (monitor_w*0.7) (monitor_h*0.7)
		center = 1
		match:class = $center-float-large
		}

		$center-float = class:^(center-float)$
		$center-float-title = title:^(.*Open Folder.*|.*Open File.*|.*Save File.*|.*Save Folder.*|.*Delete File.*|.*Confirm File Delete.*|.*Save Image.*|.*Save As.*|.*Open As.*)$
		windowrule {
		name = float-medium
		float = on
		size = (monitor_w*0.5) (monitor_h*0.5)
		center = 1
		match:class = $center-float|$center-float-title
		}

		$center-float-mini = class:^(center-float-mini)$|^(.*galculator.*)$|^(.*ytdlp-gui.*)$|^(.*udiskie.*)$|^(.*Calculator.*)$
		windowrule {
		name = float-mini
		float = on
		size = (monitor_w*0.3) (monitor_h*0.4)
		center = 1
		match:class = $center-float-mini
		}

		windowrule {
		name = float-misc
		float = on
		match:class = ^(xfce-polkit|wleave|nwg-look|nm-connection-editor|org.twosheds.iwgtk|overskride|branchdialog)$
		}

	# Workspaces - System
		windowrule {
		name = workspace-virtualization
		workspace = 8
		match:class = ^(.*virt-manager.*)$|(.*PikaBackup.*)$|(.*VirtualBox Manager.*)$
		}

		windowrule {
		name = workspace-system-tools
		workspace = 17
		match:class = ^(.*GParted.*)$|(.*clamtk.*)$|(.*gnome.Logs.*)$
		}

		windowrule {
		name = workspace-cooler
		workspace = 9 silent
		match:class = ^(.*CoolerControl.*)$
		}

	# Workspaces - Gaming
		windowrule {
		name = workspace-game-launchers
		workspace = 16 silent
		match:class = ^([Ss]team)$|(.*heroic.*)$
		}

		windowrule {
		name = workspace-emulators
		workspace = 7
		match:class = ^(.*Ryujinx.*)$|(.*cemu.*)$|(.*dolphin.*)$|(.*RetroArch.*)$|(.*xemu.*)$|(.*duckstation.*)$|(.*rpcs3.*)$
		}

	# Workspaces - Media
		windowrule {
		name = workspace-music
		workspace = 2 silent
		match:class = ^(.*[Ss]potify.*)$|(.*tidal-hifi.*)$|(.*You[Tt]ube Music.*)$
		}

		windowrule {
		name = workspace-chat
		workspace = 3 silent
		match:class = ^(.*discord.*)$|(.*vesktop.*)$|(.*WebCord.*)$|(.*[Tt]elegram.*)$
		}

	# Workspaces - Creative
		windowrule {
		name = workspace-video-recording
		workspace = 15
		match:class = ^(.*obsproject.*)$
		}

		windowrule {
		name = workspace-audio-production
		workspace = 14
		match:class = ^(.*easyeffects.*)$|^(.*qpwgraph.*)$|(.*Helvum.*)$
		}

		windowrule {
		name = workspace-music-production
		workspace = 5
		match:class = ^(.*vital.*)$|(.*fl64.*)$|(.*nicotine_plus.*)$
		match:title = ^(.*FL Studio.*)$
		}

		windowrule {
		name = workspace-graphics
		workspace = 4
		match:class = ^(.*pinta.*)$|(.*krita.*)$|(.*blender.*)$|(.*Upscayl.*)$
		}

	# Workspaces - Productivity
		windowrule {
		name = workspace-notes
		workspace = 12
		match:class = ^(.*obsidian.*)$|(.*Zotero.*)$
		}

		windowrule {
		name = workspace-development
		workspace = 11
		match:class = ^(.*Code.*)$|(.*codium.*)$|(.*VSCodium.*)$|(.*neovide.*)$
		}

	# Idle Inhibit
		windowrule {
		name = idle-prevent-games
		idle_inhibit = always
		immediate = on
		match:class = ^(.*steam_app.*)$
		}

		windowrule {
		name = idle-prevent-video-fullscreen
		idle_inhibit = fullscreen
		match:class = ^(.*celluloid.*)$|^(.*mpv.*)$
		}

		# Uncomment if needed:
		# windowrule {
		#   name = idle-prevent-browser-fullscreen
		#   idle_inhibit = fullscreen
		#   match:class = ^(.*LibreWolf.*)$|^(.*floorp.*)$|^(.*Brave.*)$|^(.*firefox.*)$|^(.*chromium.*)$|^(.*zen-alpha.*)$
		# }

	# Scratchpads
		windowrule {
		name = scratchpad-system-monitors
		workspace = special:scratchpad-large silent
		float = on
		center = 1
		size = (monitor_w*0.7) (monitor_h*0.7)
		match:class = ^(scratchpad-btop)$|^(scratchpad-nvtop)$|^(scratchpad-large)$
		}

		windowrule {
		name = scratchpad-audio-control
		workspace = special:scratchpad-large silent
		float = on
		center = 1
		size = (monitor_w*0.4) (monitor_h*0.6)
		match:class = ^(org\.pulseaudio\.pavucontrol)$
		}

		windowrule {
		name = scratchpad-network
		workspace = special:scratchpad-large silent
		float = on
		center = 1
		size = (monitor_w*0.5) (monitor_h*0.5)
		match:class = ^(nm-connection-editor)$
		}

	# Special Apps
		windowrule {
		name = flameshot-screenshot
		move = (0) (0)
		pin = on
		fullscreen_state = on
		float = on
		match:class = (flameshot)
		match:title = (flameshot)
		}

		$videobridge = class:^(.*xwaylandvideobridge.*)$
		windowrule {
		name = xwaylandvideobridge-invisible
		opacity = 0.0 override 0.0 override
		no_anim = on
		no_blur = on
		no_initial_focus = on
		max_size = 1 1
		match:class = $videobridge
		}

		windowrule {
		name = scrcpy-android
		center = 1
		float = on
		match:class = ^(.*scrcpy.*)$
		}

	# Animations
		windowrule {
		name = animation-cava
		animation = slide
		match:title = ^(.*cava.*)$
		}

		windowrule {
		name = animation-wleave
		animation = popin
		match:class = ^(.*wleave.*)$
		}

	# Layer Rules
		layerrule {
		name = layer-rofi
		animation = popin
		blur = on
		ignore_alpha = 0
		match:namespace = rofi
		}

		layerrule {
		name = layer-waybar
		blur = off
		match:namespace = waybar
		}

		layerrule {
		name = layer-notifications
		animation = slide
		blur = on
		ignore_alpha = 0
		match:namespace = swaync-notification-window|swaync-control-center
		}

		layerrule {
		name = layer-overlays-fade
		animation = fade
		match:namespace = swayosd|selection|hyprlock
		}

		layerrule {
		name = layer-hyprpicker
		no_anim = on
		match:namespace = hyprpicker
		}


# === AUTOSTART === #
	exec-once = $HOME/.config/hypr/scripts/services
	exec-once = $HOME/.config/hypr/scripts/apps

	exec-once = swaybg -m fill -i /home/vinh/.config/hypr/walls/eva01-2.jpg

  exec-once = dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP XDG_SESSION_TYPE
